"0",""
"0","## select and filter for only the necessary columns"
"0","## adds a column stating whether visitor or home team won"
"0","## saves time writing this as a function rather than writing the select and filter multiple times"
"0","## selects for columns in positions 1, 5, 8, and 11 through 13"
"0","## filters for extra inning games or regular inning games"
"0","## requires an existing data object"
"0","prepare_gl <- function(.data, filter_var){"
"0","  assign(.data, dplyr::select(get(.data), 1, 5, 8, 11:13), envir = .GlobalEnv)"
"0","  if(filter_var == ""extra""){"
"0","    assign(.data, dplyr::filter(get(.data), length_of_game_outs > 54), envir = .GlobalEnv)"
"0","  }"
"0","  else if(filter_var == ""regular""){"
"0","    assign(.data, dplyr::filter(get(.data), length_of_game_outs <= 54), envir = .GlobalEnv)"
"0","  }"
"0","  assign(.data, dplyr::mutate(get(.data), winning_team = case_when((.data$visiting_score > .data$home_score) ~ ""visitor"", "
"0","                                                                   (.data$visiting_score < .data$home_score) ~ ""home"")), "
"0","         envir = .GlobalEnv)"
"0","}"
